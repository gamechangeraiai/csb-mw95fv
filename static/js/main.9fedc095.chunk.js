(this["webpackJsonpmagic-demo"]=this["webpackJsonpmagic-demo"]||[]).push([[0],{20:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=20},33:function(e,t){},62:function(e,t){},65:function(e,t){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=n(30),i=n.n(r),c=n.p+"static/media/magic.77819bf1.svg",o=n(0);var l=()=>Object(o.jsxs)("div",{style:{textAlign:"center"},children:[Object(o.jsx)("img",{src:c,alt:"magic-logo",className:"magic-logo"}),Object(o.jsx)("h3",{className:"demo-sub-header",children:"Demo"})]});var d=e=>{let{dark:t,footer:n}=e;return Object(o.jsxs)("div",{className:"links "+(n?"footer-links":""),children:[Object(o.jsx)("div",{className:"link",style:{color:t?"#6851ff":"#fff"},children:Object(o.jsx)("a",{href:"https://magic.link/docs/home/welcome",target:"_blank",rel:"noreferrer",children:"Dev Docs"})}),Object(o.jsx)("div",{className:"link-divider",style:{backgroundColor:t?"#DDDBE0":"#a270d3"}}),Object(o.jsx)("div",{className:"link",style:{color:t?"#6851ff":"#fff"},children:Object(o.jsx)("a",{href:"https://dashboard.magic.link/signup",target:"_blank",rel:"noreferrer",children:"Dashboard"})}),Object(o.jsx)("div",{className:"link-divider",style:{backgroundColor:t?"#DDDBE0":"#a270d3"}}),Object(o.jsx)("div",{className:"link",style:{color:t?"#6851ff":"#fff"},children:Object(o.jsx)("a",{href:"https://discord.gg/magiclabs",target:"_blank",rel:"noreferrer",children:"Discord"})})]})},u=n.p+"static/media/down-arrow.b49d80c2.svg",b=n.p+"static/media/check.9e20c302.svg";let j;!function(e){e.Sepolia="Ethereum (Sepolia)",e.Goerli="Ethereum (Goerli)",e.Polygon="Polygon (Mumbai)",e.Optimism="Optimism (Goerli)"}(j||(j={}));var p=()=>{const e=[j.Sepolia,j.Goerli,j.Polygon,j.Optimism],[t,n]=Object(s.useState)(!1),[a,r]=Object(s.useState)(localStorage.getItem("network")||j.Sepolia),i=e=>{e!==a&&(r(e),localStorage.setItem("network",e),window.location.reload())},c=e=>{let{network:n}=e;return Object(o.jsxs)("div",{className:"active-network",children:[n,Object(o.jsx)("img",{src:u,height:"20px",alt:"down-arrow",className:t?"rotate":""})]})},l=e=>{let{network:t}=e;return Object(o.jsxs)("div",{className:"network-dropdown-option",onClick:()=>{i(t)},children:[Object(o.jsx)("img",{src:b,height:"15px",alt:"check",style:{marginRight:"10px"}}),t]})};return Object(o.jsxs)("div",{className:"network-dropdown",onClick:()=>n(!t),children:[Object(o.jsx)(c,{network:a}),t?Object(o.jsx)("div",{className:"network-options",children:e.map((e=>Object(o.jsx)(l,{network:e},e)))}):null]})},m=n.p+"static/media/loading.68969fb3.svg";var y=e=>{let{onClick:t,disabled:n}=e;return Object(o.jsx)("div",{style:{textAlign:"center"},children:Object(o.jsx)("button",{className:"connect-button",onClick:t,disabled:n,children:n?Object(o.jsx)("div",{className:"loadingContainer",style:{width:"100%"},children:Object(o.jsx)("img",{className:"loading",alt:"loading",src:m})}):"Connect"})})};var h=e=>{let{size:t}=e;return Object(o.jsx)("div",{style:{height:`${t}px`}})},O=n.p+"static/media/login.a1de1e2a.svg";const g=new(n(31).a)("pk_live_3247E1E1BB785715",{network:(()=>{switch(localStorage.getItem("network")){case j.Optimism:return{rpcUrl:"https://goerli.optimism.io/",chainId:420};case j.Polygon:return{rpcUrl:"https://rpc-mumbai.maticvigil.com/",chainId:80001};case j.Goerli:return{rpcUrl:"https://rpc.ankr.com/eth_goerli",chainId:5};default:return{rpcUrl:"https://rpc2.sepolia.org/",chainId:11155111}}})()}),x=()=>g.wallet.getProvider(),f=async(e,t)=>{localStorage.removeItem("user"),await g.wallet.disconnect();e(await x()),t(null),console.log("Successfully disconnected")};var v=n(32),w=n.n(v);const T=async()=>{const e=await x();return new w.a(e)},C=Object(s.createContext)([]),N=e=>{let{children:t}=e;const[n,a]=Object(s.useState)(),r=Object(s.useMemo)((()=>({web3:n,setWeb3:a})),[n,a]);return Object(s.useEffect)((()=>{T().then(a)}),[]),Object(o.jsx)(C.Provider,{value:{...r},children:t})};function k(){return Object(s.useContext)(C)}const S=a.a.createContext([]),I=e=>{let{children:t}=e;const{setWeb3:n}=k(),[r,i]=Object(s.useState)(localStorage.getItem("user")),c=a.a.useMemo((()=>({user:r,setUser:i})),[r,i]);return Object(s.useEffect)((()=>{(async()=>{const e=await x(),t=await e.request({method:"eth_accounts"});console.log("accounts",t),!t[0]&&r&&f(n,i),t[0]?localStorage.setItem("user",t[0]):localStorage.removeItem("user"),i(t[0])})()}),[]),Object(o.jsx)(S.Provider,{value:{...c},children:t})},E=()=>Object(s.useContext)(S);var M=()=>{const{setUser:e}=E(),{setWeb3:t}=k(),[n,a]=Object(s.useState)(!1);return Object(o.jsxs)("div",{className:"login-page",style:{backgroundImage:`url(${O})`},children:[Object(o.jsx)(l,{}),Object(o.jsx)(h,{size:30}),Object(o.jsx)(p,{}),Object(o.jsx)(h,{size:20}),Object(o.jsx)(y,{onClick:async()=>{try{a(!0);const n=await g.wallet.connectWithUI();a(!1),console.log("Logged in user:",n[0]),localStorage.setItem("user",n[0]);const s=await T();t(s),e(n[0])}catch(R){a(!1),console.error(R)}},disabled:n}),Object(o.jsx)(d,{footer:!0})]})};var B=()=>{const[e,t]=Object(s.useState)(!1),[n,a]=Object(s.useState)([]),{activeId:r}=function(){const e=Object(s.useRef)(),[t,n]=Object(s.useState)("");return Object(s.useEffect)((()=>(e.current=new IntersectionObserver((e=>{e.forEach((e=>{null!==e&&void 0!==e&&e.isIntersecting&&n(e.target.id)}))}),{rootMargin:"0px 0px -82% 0px"}),document.querySelectorAll("h1").forEach((t=>e.current.observe(t))),()=>e.current.disconnect())),[]),{activeId:t}}();Object(s.useEffect)((()=>{const e=Array.from(document.querySelectorAll("h1")).map((e=>({id:e.id,text:e.innerText,level:Number(e.nodeName.charAt(1))})));a(e)}),[]);const i=()=>{const e=Math.ceil(window.innerHeight+window.scrollY)>=document.documentElement.scrollHeight;t(!!e)};return Object(s.useEffect)((()=>(window.addEventListener("scroll",i,{passive:!0}),()=>{window.removeEventListener("scroll",i)})),[]),Object(o.jsx)("nav",{className:"table-of-contents",children:Object(o.jsx)("ul",{children:n.map((t=>Object(o.jsx)("li",{className:e&&"signing"===t.id?"active":r!==t.id||e?"":"active",children:Object(o.jsx)("a",{href:`#${t.id}`,onClick:e=>{e.preventDefault(),document.querySelector(`#${t.id}`).scrollIntoView({behavior:"smooth"})},children:t.text})},t.id)))})})};var A=()=>Object(o.jsx)("div",{className:"divider"});var D=e=>{let{leftHeader:t,rightAction:n,isDisconnect:s,...a}=e;return Object(o.jsxs)("div",{className:"card-label-container",...a,children:[Object(o.jsx)("div",{className:"card-label",children:t}),n?Object(o.jsx)("div",{className:"card-label "+(s?"disconnect-button":"action-button"),children:n}):null]})};var P=e=>{let{children:t}=e;return Object(o.jsx)("div",{className:"card",children:t})};var F=e=>{let{children:t,id:n}=e;return Object(o.jsx)("h1",{className:"card-header",id:n,children:t})};var H=()=>{const{user:e,setUser:t}=E(),{web3:n,setWeb3:a}=k(),[r,i]=Object(s.useState)("..."),[c,l]=Object(s.useState)("Copy"),[d,u]=Object(s.useState)(!1),b=localStorage.getItem("network")===j.Polygon?"MATIC":"ETH",y=async()=>{if(e&&n)try{const t=await n.eth.getBalance(e);i(n.utils.fromWei(t))}catch(R){console.error(R)}};return Object(s.useEffect)((()=>{n&&e&&y()}),[n,e]),Object(o.jsxs)(P,{children:[Object(o.jsx)(F,{id:"wallet",children:"Wallet"}),Object(o.jsx)(D,{leftHeader:"Status",rightAction:Object(o.jsx)("div",{onClick:()=>f(a,t),children:"Disconnect"}),isDisconnect:!0}),Object(o.jsxs)("div",{className:"flex-row",children:[Object(o.jsx)("div",{className:"green-dot"}),Object(o.jsx)("div",{className:"connected",children:"Connected"})]}),Object(o.jsx)(A,{}),Object(o.jsx)(D,{leftHeader:"Network"}),Object(o.jsx)(p,{}),Object(o.jsx)(A,{}),Object(o.jsx)(D,{leftHeader:"Address",rightAction:Object(o.jsx)("div",{onClick:()=>{e&&"Copy"===c&&(l("Copied!"),navigator.clipboard.writeText(e),setTimeout((()=>{l("Copy")}),1e3))},children:c})}),Object(o.jsx)("div",{className:"code",children:e}),Object(o.jsx)(A,{}),Object(o.jsx)(D,{style:{height:"20px"},leftHeader:"Balance",rightAction:d?Object(o.jsx)("div",{className:"loading-container",children:Object(o.jsx)("img",{className:"loading",alt:"loading",src:m})}):Object(o.jsx)("div",{onClick:()=>{u(!0),setTimeout((()=>{u(!1)}),500),y()},children:"Refresh"})}),Object(o.jsxs)("div",{className:"code",children:[r.substring(0,7)," ",b]})]})};var U=()=>{const{setUser:e}=E(),{setWeb3:t}=k(),[n,a]=Object(s.useState)(!1);return Object(o.jsxs)("div",{className:"wallet-method-container",children:[Object(o.jsx)("button",{className:"wallet-method",onClick:async()=>{try{a(!0),await f(t,e)}catch(R){a(!1),console.error(R)}},disabled:n,children:n?Object(o.jsx)("div",{className:"loadingContainer",style:{width:"115px"},children:Object(o.jsx)("img",{className:"loading",alt:"loading",src:m})}):"disconnect()"}),Object(o.jsx)("div",{className:"wallet-method-desc",children:"Disconnects user from dApp."})]})};var L=e=>{let{children:t}=e;return Object(o.jsx)("div",{className:"toast",children:t})};var W=()=>{const[e,t]=Object(s.useState)(!1),[n,a]=Object(s.useState)(!1),[r,i]=Object(s.useState)("");return Object(o.jsxs)("div",{className:"wallet-method-container",children:[Object(o.jsx)("button",{className:"wallet-method",onClick:async()=>{try{t(!0);const e=await g.wallet.getInfo();t(!1),console.log(e),i(e.walletType),a(!0),setTimeout((()=>{a(!1)}),3e3)}catch(R){t(!1),console.error(R)}},disabled:e,children:e?Object(o.jsx)("div",{className:"loadingContainer",style:{width:"86px"},children:Object(o.jsx)("img",{className:"loading",alt:"loading",src:m})}):"getInfo()"}),Object(o.jsx)("div",{className:"wallet-method-desc",children:"Returns information about the logged in user's wallet."}),n?Object(o.jsxs)(L,{children:["Wallet type: ",r]}):null]})};var G=()=>{const[e,t]=Object(s.useState)(!1),[n,a]=Object(s.useState)(!1),[r,i]=Object(s.useState)("");return Object(o.jsxs)("div",{className:"wallet-method-container",children:[Object(o.jsx)("button",{className:"wallet-method",onClick:async()=>{try{t(!0);const e=await g.wallet.requestUserInfoWithUI({scope:{email:"optional"}});t(!1),i(e.email),a(!0),setTimeout((()=>{a(!1)}),3e3)}catch(R){t(!1),console.error(R)}},disabled:e,children:e?Object(o.jsx)("div",{className:"loadingContainer",style:{width:"220px"},children:Object(o.jsx)("img",{className:"loading",alt:"loading",src:m})}):"requestUserInfoWithUI()"}),Object(o.jsx)("div",{className:"wallet-method-desc",children:"Prompts the user to consent to sharing information with the requesting dApp."}),n?Object(o.jsxs)(L,{children:["Email: ",r]}):null]})};var R=e=>{let{children:t}=e;return Object(o.jsx)("div",{className:"error",children:t})};var _=()=>{const{setWeb3:e}=k(),{setUser:t}=E(),[n,a]=Object(s.useState)(!1),[r,i]=Object(s.useState)(!1);return Object(o.jsxs)("div",{className:"wallet-method-container",children:[Object(o.jsx)("button",{className:"wallet-method",onClick:async()=>{try{a(!0),i(!1);const{walletType:n}=await g.wallet.getInfo();if("magic"!==n)return a(!1),void i(!0);g.wallet.showUI().on("disconnect",(()=>{f(e,t)})).then((()=>a(!1)))}catch(R){a(!1),console.error(R)}},disabled:n,children:n?Object(o.jsx)("div",{className:"loadingContainer",style:{width:"76px"},children:Object(o.jsx)("img",{className:"loading",alt:"loading",src:m})}):"showUI()"}),Object(o.jsx)("div",{className:"wallet-method-desc",children:"Opens wallet view to manage assets, purchase/send/receive crypto, and access recovery phrase."}),r?Object(o.jsxs)("div",{style:{marginBottom:"-10px"},children:[Object(o.jsx)(h,{size:20}),Object(o.jsx)(R,{children:"Method not supported for third party wallets."})]}):null]})};var z=()=>Object(o.jsxs)(P,{children:[Object(o.jsx)(F,{id:"wallet-methods",children:"Wallet Methods"}),Object(o.jsx)(_,{}),Object(o.jsx)(A,{}),Object(o.jsx)(W,{}),Object(o.jsx)(A,{}),Object(o.jsx)(G,{}),Object(o.jsx)(A,{}),Object(o.jsx)(U,{})]}),$=n(5);var q=e=>{let{children:t,onClick:n,disabled:s}=e;return Object(o.jsx)("button",{className:"form-button",disabled:s,onClick:n,children:t})};var V=e=>{let{value:t,onChange:n,placeholder:s}=e;return Object(o.jsx)("input",{className:"form-input",value:t,onChange:n,placeholder:s})};var J=()=>{const{user:e}=E(),{web3:t}=k(),[n,a]=Object(s.useState)(""),[r,i]=Object(s.useState)(!n);Object(s.useEffect)((()=>{i(!n)}),[n]);return Object(o.jsxs)("div",{children:[Object(o.jsx)(D,{leftHeader:"Personal Sign"}),Object(o.jsx)(V,{value:n,onChange:e=>a(e.target.value),placeholder:"My message"}),Object(o.jsx)(q,{onClick:async()=>{try{if(e){i(!0);const s=await t.eth.personal.sign(n,e);console.log("signedMessage:",s);const r=Object($.recoverPersonalSignature)({data:n,signature:s});console.log(r.toLocaleLowerCase()===(null===e||void 0===e?void 0:e.toLocaleLowerCase())?"Signing success!":"Signing failed!"),a(""),i(!1)}}catch(R){i(!1),console.error(R)}},disabled:!n||r,children:"Sign"})]})};const Y={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"verifyingContract",type:"address"}],Greeting:[{name:"contents",type:"string"}]},primaryType:"Greeting",domain:{name:"Magic",version:"1",verifyingContract:"0xE0cef4417a772512E6C95cEf366403839b0D6D6D"},message:{contents:"Hello, from Magic!"}},K={domain:{chainId:(()=>{switch(localStorage.getItem("network")){case j.Polygon:return 80001;case j.Optimism:return 420;case j.Goerli:return 5;default:return 11155111}})(),name:"Ether Mail",verifyingContract:"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC",version:"1"},message:{contents:"Hello, Bob!",attachedMoneyInEth:4.2,from:{name:"Cow",wallets:["0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826","0xDeaDbeefdEAdbeefdEadbEEFdeadbeEFdEaDbeeF"]},to:[{name:"Bob",wallets:["0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB","0xB0BdaBea57B0BDABeA57b0bdABEA57b0BDabEa57","0xB0B0b0b0b0b0B000000000000000000000000000"]}]},primaryType:"Mail",types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Group:[{name:"name",type:"string"},{name:"members",type:"Person[]"}],Mail:[{name:"from",type:"Person"},{name:"to",type:"Person[]"},{name:"contents",type:"string"}],Person:[{name:"name",type:"string"},{name:"wallets",type:"address[]"}]}};var Q=()=>{const{user:e}=E(),{web3:t}=k(),[n,a]=Object(s.useState)(!1);return Object(o.jsxs)("div",{children:[Object(o.jsx)(D,{leftHeader:"Sign Typed Data v3"}),Object(o.jsx)(q,{onClick:async()=>{try{a(!0);const n=[e,JSON.stringify(Y)],s="eth_signTypedData_v3",r=await t.currentProvider.request({method:s,params:n});console.log("signature",r);const i=Object($.recoverTypedSignature)({data:Y,signature:r,version:$.SignTypedDataVersion.V3});console.log(i.toLocaleLowerCase()===(null===e||void 0===e?void 0:e.toLocaleLowerCase())?"Signing success!":"Signing failed!"),a(!1)}catch(R){a(!1),console.error(R)}},disabled:n,children:"Sign"})]})};var X=()=>{const{user:e}=E(),{web3:t}=k(),[n,a]=Object(s.useState)(!1);return Object(o.jsxs)("div",{children:[Object(o.jsx)(D,{leftHeader:"Sign Typed Data v4"}),Object(o.jsx)(q,{onClick:async()=>{try{a(!0);const n=[e,JSON.stringify(K)],s="eth_signTypedData_v4",r=await t.currentProvider.request({method:s,params:n});console.log("signature",r);const i=Object($.recoverTypedSignature)({data:K,signature:r,version:$.SignTypedDataVersion.V4});console.log(i.toLocaleLowerCase()===(null===e||void 0===e?void 0:e.toLocaleLowerCase())?"Signing success!":"Signing failed!"),a(!1)}catch(R){a(!1),console.error(R)}},disabled:n,children:"Sign"})]})};var Z=()=>Object(o.jsxs)(P,{children:[Object(o.jsx)(F,{id:"signing",children:"Signing"}),Object(o.jsx)(J,{}),Object(o.jsx)(A,{}),Object(o.jsx)(Q,{}),Object(o.jsx)(A,{}),Object(o.jsx)(X,{})]}),ee=n.p+"static/media/link.29f36445.svg";var te=()=>{const e=(()=>{switch(localStorage.getItem("network")){case j.Polygon:return"https://mumbai.polygonscan.com/";case j.Optimism:return"https://blockscout.com/optimism/goerli/";case j.Goerli:return"https://goerli.etherscan.io/";default:return"https://sepolia.etherscan.io/"}})(),{user:t}=E();return Object(o.jsx)("a",{className:"action-button",href:`${e}/address/${t}`,target:"_blank",rel:"noreferrer",children:Object(o.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:["Transaction History ",Object(o.jsx)("img",{src:ee,alt:"link-icon",style:{marginLeft:"3px"}})]})})};const ne=()=>{switch(localStorage.getItem("network")){case j.Polygon:return"https://faucet.polygon.technology/";case j.Optimism:return"https://community.optimism.io/docs/useful-tools/faucets/";case j.Goerli:return"https://goerlifaucet.com/";default:return"https://sepoliafaucet.com/"}};var se=()=>{const{user:e}=E(),{web3:t}=k(),[n,a]=Object(s.useState)(""),[r,i]=Object(s.useState)(""),[c,l]=Object(s.useState)(!n||!r),[d,u]=Object(s.useState)(""),[b,p]=Object(s.useState)(!1),[m,y]=Object(s.useState)(!1),O=localStorage.getItem("network")===j.Polygon?"MATIC":"ETH";Object(s.useEffect)((()=>{l(!n||!r),y(!1),p(!1)}),[r,n]);return Object(o.jsxs)(P,{children:[Object(o.jsx)(F,{id:"send-transaction",children:"Send Transaction"}),Object(o.jsx)("a",{href:ne(),target:"_blank",rel:"noreferrer",children:Object(o.jsxs)(q,{onClick:()=>null,disabled:!1,children:["Get Test ",O," ",Object(o.jsx)("img",{src:ee,alt:"link-icon",style:{marginLeft:"3px"}})]})}),Object(o.jsx)(A,{}),Object(o.jsx)(V,{value:n,onChange:e=>a(e.target.value),placeholder:"Receiving Address"}),b?Object(o.jsx)(R,{children:"Invalid address"}):null,Object(o.jsx)(V,{value:r,onChange:e=>i(e.target.value),placeholder:`Amount (${O})`}),m?Object(o.jsx)(R,{className:"error",children:"Invalid amount"}):null,Object(o.jsx)(q,{onClick:()=>{if(!t.utils.isAddress(n))return p(!0);if(isNaN(Number(r)))return y(!0);l(!0);const s={from:e,to:n,value:t.utils.toWei(r,"ether"),gas:21e3};t.eth.sendTransaction(s).on("transactionHash",(e=>{u(e),console.log("Transaction hash:",e)})).then((e=>{a(""),i(""),console.log("Transaction receipt:",e)})).catch((e=>{console.error(e),l(!1)}))},disabled:!n||!r||c,children:"Send Transaction"}),d?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(h,{size:20}),Object(o.jsx)(te,{})]}):null]})};const ae=()=>{switch(localStorage.getItem("network")){case j.Polygon:case j.Optimism:return"0xB7e7313C95b4dB35aB50760c31f29d1AA4679452";case j.Goerli:return"0xb57a27201b207E01c2b6781AB18fe1faA924f5CC";default:return"0x97bA865Df5a937095285e99bA22189E4B3BDBd1f"}},re=()=>{switch(localStorage.getItem("network")){case j.Polygon:return"0xfdBa8E462e9442b6077B1FC7B230205CAece2033";case j.Optimism:return"0xb57a27201b207E01c2b6781AB18fe1faA924f5CC";case j.Goerli:return"0x5Dfec61174fbC58C2b265044F90EE12418FA011c";default:return"0xC38581C335E76E78541B79ade04eAE205704248F"}},ie=()=>{switch(localStorage.getItem("network")){case j.Polygon:return"0x96d71155fcA2eD56Da251591F59E1DC5ff4095e4";case j.Optimism:return"0x5Dfec61174fbC58C2b265044F90EE12418FA011c";case j.Goerli:return"0xB7e7313C95b4dB35aB50760c31f29d1AA4679452";default:return"0x3e21cB8759CE81e6bdC1295E8E2081C4e64e488f"}},ce=[{inputs:[],name:"number",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"num",type:"uint256"}],name:"store",outputs:[],stateMutability:"nonpayable",type:"function"}],oe=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],le=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"getNftsByAddress",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"uri",type:"string"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}];var de=()=>{const{user:e}=E(),{web3:t}=k(),[n,a]=Object(s.useState)(""),[r,i]=Object(s.useState)(""),[c,l]=Object(s.useState)(!n||!r),[d,u]=Object(s.useState)(!1),[b,j]=Object(s.useState)(!1);Object(s.useEffect)((()=>{l(!n||!r),j(!1),u(!1)}),[r,n]);return Object(o.jsxs)("div",{children:[Object(o.jsx)(D,{leftHeader:"Send ERC20"}),Object(o.jsx)(V,{value:n,onChange:e=>a(e.target.value),placeholder:"Receiving Address"}),d?Object(o.jsx)(R,{children:"Invalid address"}):null,Object(o.jsx)(V,{value:r,onChange:e=>i(e.target.value),placeholder:"Amount of MTT"}),b?Object(o.jsx)(R,{className:"error",children:"Invalid amount"}):null,Object(o.jsx)(q,{onClick:()=>{if(!t.utils.isAddress(n))return u(!0);if(isNaN(Number(r)))return j(!0);l(!0);const s=ie();new t.eth.Contract(oe,s).methods.transfer(n,t.utils.toWei(r)).send({from:e}).on("transactionHash",(e=>{console.log("Transaction hash:",e)})).then((e=>{a(""),i(""),console.log("Transaction receipt:",e)})).catch((e=>{l(!1),console.error(e)}))},disabled:!n||!r||c,children:"Transfer Tokens"})]})};var ue=()=>{const{user:e}=E(),{web3:t}=k(),[n,a]=Object(s.useState)(!1);return Object(o.jsx)(q,{onClick:()=>{a(!0);const n=ie();new t.eth.Contract(oe,n).methods.mint(t.utils.toWei("10")).send({from:e}).on("transactionHash",(e=>{console.log("Transaction hash:",e)})).then((e=>{a(!1),console.log("Transaction receipt:",e)})).catch((e=>{a(!1),console.error(e)}))},disabled:n,children:"Mint 10 Magic Test Tokens"})};var be=()=>{const{user:e}=E(),{web3:t}=k(),[n,a]=Object(s.useState)("0"),[r,i]=Object(s.useState)(!1),c=async()=>{if(!r){const n=ie(),s=new t.eth.Contract(oe,n),r=await s.methods.balanceOf(e).call();a(t.utils.fromWei(r))}};return Object(s.useEffect)((()=>{e&&t&&c()}),[e,t]),Object(o.jsxs)("div",{children:[Object(o.jsx)(D,{style:{height:"20px"},leftHeader:"Balance",rightAction:r?Object(o.jsx)("div",{className:"loading-container",children:Object(o.jsx)("img",{className:"loading",alt:"loading",src:m})}):Object(o.jsx)("div",{onClick:()=>{i(!0),setTimeout((()=>{i(!1)}),500),c()},children:"Refresh"})}),Object(o.jsxs)("div",{className:"code",children:[n.substring(0,7)," MTT"]})]})};var je=()=>Object(o.jsxs)(P,{children:[Object(o.jsx)(F,{id:"erc20-tokens",children:"ERC20 Tokens"}),Object(o.jsx)(ue,{}),Object(o.jsx)(A,{}),Object(o.jsx)(be,{}),Object(o.jsx)(A,{}),Object(o.jsx)(de,{})]});var pe=()=>{const{user:e}=E(),{web3:t}=k(),[n,a]=Object(s.useState)(""),[r,i]=Object(s.useState)(""),[c,l]=Object(s.useState)(!n),[d,u]=Object(s.useState)(!1),b=async()=>{try{const e=ae(),n=new t.eth.Contract(ce,e),s=await n.methods.number().call();i(s)}catch(R){console.error(R)}};Object(s.useEffect)((()=>{l(!n),u(!1)}),[n]);return Object(s.useEffect)((()=>{t&&b()}),[t]),Object(o.jsxs)("div",{children:[Object(o.jsx)(D,{leftHeader:"Number stored in contract"}),Object(o.jsx)("div",{className:"code",children:r}),Object(o.jsx)(A,{}),Object(o.jsx)(D,{leftHeader:"Update number stored in contract"}),Object(o.jsx)(V,{value:n,onChange:e=>a(e.target.value),placeholder:"New number"}),d?Object(o.jsx)(R,{children:"Invalid number"}):null,Object(o.jsx)(q,{onClick:()=>{if(isNaN(Number(n)))return u(!0);l(!0);const s=ae();new t.eth.Contract(ce,s).methods.store(Number(n)).send({from:e}).on("transactionHash",(e=>{console.log("Transaction hash:",e)})).then((e=>{a(""),l(!1),b(),console.log("Transaction receipt:",e)})).catch((e=>{console.error(e),l(!1)}))},disabled:!n||c,children:"Call Contract"})]})};var me=()=>Object(o.jsxs)(P,{children:[Object(o.jsx)(F,{id:"smart-contracts",children:"Smart Contracts"}),Object(o.jsx)(pe,{})]});var ye=()=>{const{user:e}=E(),{web3:t}=k(),[n,a]=Object(s.useState)(""),[r,i]=Object(s.useState)(!n);Object(s.useEffect)((()=>{i(!n)}),[n]);return Object(o.jsxs)("div",{children:[Object(o.jsx)(D,{leftHeader:"Mint a new NFT"}),Object(o.jsx)(V,{value:n,onChange:e=>a(e.target.value),placeholder:"NFT name"}),Object(o.jsx)(q,{onClick:async()=>{try{i(!0);const s=re(),r=new t.eth.Contract(le,s),c=await r.methods.mint(n).estimateGas({from:e});r.methods.mint(n).send({from:e,gas:c}).on("transactionHash",(e=>{console.log("Transaction hash:",e)})).then((e=>{a(""),console.log("Transaction receipt:",e)})).catch((e=>{i(!1),console.error(e)}))}catch(R){i(!1),console.error(R)}},disabled:!n||r,children:"Mint"})]})},he=n.p+"static/media/nft-one.80b03537.svg",Oe=n.p+"static/media/nft-two.ede1b645.svg",ge=n.p+"static/media/nft-three.04ad1730.svg";var xe=e=>{let{id:t,name:n}=e;return Object(o.jsx)("div",{className:"nft code",children:Object(o.jsxs)("div",{className:"flex-row",style:{justifyContent:"flex-start"},children:[Object(o.jsx)("img",{src:(()=>{switch(Number(t)%3){case 1:return he;case 2:return Oe;default:return ge}})(),alt:"nft-logo"}),Object(o.jsxs)("div",{style:{marginLeft:"12px"},children:[Object(o.jsx)("div",{className:"nft-name",children:n}),Object(o.jsx)(h,{size:5}),Object(o.jsxs)("div",{children:["Token ID: ",t]})]})]})})};var fe=()=>{const[e,t]=Object(s.useState)(),[n,a]=Object(s.useState)(!1),{user:r}=E(),{web3:i}=k(),c=async()=>{if(!n)try{const e=re(),n=new i.eth.Contract(le,e),s=await n.methods.getNftsByAddress(r).call(),a=s.map((async e=>await n.methods.tokenURI(e).call())),c=((e,t)=>e.map(((e,n)=>({tokenId:e,tokenURI:t[n]}))))(s,await Promise.all(a));t(c)}catch(R){console.error(R)}};return Object(s.useEffect)((()=>{i&&r&&c()}),[i,r]),Object(o.jsxs)("div",{children:[Object(o.jsx)(D,{style:{height:"20px"},leftHeader:"My NFTs",rightAction:n?Object(o.jsx)("div",{className:"loading-container",children:Object(o.jsx)("img",{className:"loading",alt:"loading",src:m})}):Object(o.jsx)("div",{onClick:()=>{a(!0),setTimeout((()=>{a(!1)}),500),c()},children:"Refresh"})}),e&&e.length>0?Object(o.jsx)("div",{className:"nft-list",children:e.map((e=>Object(o.jsx)(xe,{id:e.tokenId,name:e.tokenURI},e.tokenId)))}):Object(o.jsx)("div",{className:"code",style:{color:"#777679"},children:"No NFTs in wallet"})]})};var ve=()=>{const{user:e}=E(),{web3:t}=k(),[n,a]=Object(s.useState)(""),[r,i]=Object(s.useState)(""),[c,l]=Object(s.useState)(!n||!r),[d,u]=Object(s.useState)(!1),[b,j]=Object(s.useState)(!1);Object(s.useEffect)((()=>{l(!r||!n),j(!1),u(!1)}),[n,r]);return Object(o.jsxs)("div",{children:[Object(o.jsx)(D,{leftHeader:"Transfer NFT"}),Object(o.jsx)(V,{value:r,onChange:e=>i(e.target.value),placeholder:"Receiving Address"}),d?Object(o.jsx)(R,{children:"Invalid address"}):null,Object(o.jsx)(V,{value:n,onChange:e=>a(e.target.value),placeholder:"Token Id"}),b?Object(o.jsx)(R,{className:"error",children:"Invalid token ID"}):null,Object(o.jsx)(q,{onClick:()=>{if(!t.utils.isAddress(r))return u(!0);if(isNaN(Number(n)))return j(!0);l(!0);const s=re();new t.eth.Contract(le,s).methods.transferFrom(e,r,n).send({from:e}).on("transactionHash",(e=>{console.log("Transaction hash:",e)})).then((e=>{i(""),a(""),console.log("Transaction receipt:",e)})).catch((e=>{l(!1),console.error(e)}))},disabled:!r||!n||c,children:"Transfer"})]})};var we=()=>Object(o.jsxs)(P,{children:[Object(o.jsx)(F,{id:"nfts",children:"NFTs"}),Object(o.jsx)(ye,{}),Object(o.jsx)(A,{}),Object(o.jsx)(fe,{}),Object(o.jsx)(A,{}),Object(o.jsx)(ve,{})]}),Te=n.p+"static/media/main.f7e952b2.svg";function Ce(){const{user:e,setUser:t}=E(),{web3:n,setWeb3:a}=k(),r=localStorage.getItem("network")||j.Sepolia,i=e=>{console.log("New account:",e),e[0]?(localStorage.setItem("user",e[0]),t(e[0])):f(a,t)},c=()=>{window.location.reload()};Object(s.useEffect)((()=>{if(n&&e)return async function(){const e=await n.eth.getChainId(),t=u();Number(e)!==t&&alert(`Connected wallet is on the wrong network. Please switch to ${r} (chainId ${t})`)}(),n.currentProvider.on("accountsChanged",i),n.currentProvider.on("chainChanged",c),()=>{n.currentProvider.removeListener("accountsChanged",i),n.currentProvider.removeListener("chainChanged",c)}}),[n,e]);const u=()=>{switch(r){case j.Polygon:return 80001;case j.Optimism:return 420;case j.Goerli:return 5;default:return 11155111}};return Object(o.jsxs)("div",{className:"home-page",style:{backgroundImage:`url(${Te})`},children:[Object(o.jsx)(l,{}),Object(o.jsx)(h,{size:20}),Object(o.jsx)(d,{}),Object(o.jsx)(h,{size:125}),Object(o.jsx)(B,{}),Object(o.jsxs)("div",{className:"cards-container",children:[Object(o.jsx)(H,{}),Object(o.jsx)(z,{}),Object(o.jsx)(se,{}),Object(o.jsx)(je,{}),Object(o.jsx)(we,{}),Object(o.jsx)(me,{}),Object(o.jsx)(Z,{}),Object(o.jsx)(h,{size:30}),Object(o.jsx)(d,{dark:!0}),Object(o.jsx)(h,{size:30})]})]})}n(67);function Ne(){const{user:e}=E();return e?Object(o.jsx)(Ce,{}):Object(o.jsx)(M,{})}i.a.createRoot(document.getElementById("root")).render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(N,{children:Object(o.jsx)(I,{children:Object(o.jsx)(Ne,{})})})}))}},[[68,1,2]]]);
//# sourceMappingURL=main.9fedc095.chunk.js.map